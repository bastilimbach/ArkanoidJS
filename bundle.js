!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MovingDirection=t.AttachmentPosition=t.ItemShape=t.ItemType=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(3)),a=i(n(1)),l=t.ItemType={BALL:"ball",BRICK:"brick",PLATFORM:"platform",POWERUP:"powerup",BOUNDARY:"boundary"},s=t.ItemShape={RECTANGLE:"rectangle",CIRCLE:"circle"},u=t.AttachmentPosition={TOP:"attachTop",RIGHT:"attachRight",BOTTOM:"attachBottom",LEFT:"attachLeft",CENTER:"attachCenter"},c=t.MovingDirection={UP:"movingUp",RIGHT:"movingRight",DOWN:"movingDown",LEFT:"movingLeft",NONE:"notMoving"},f=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.BRICK,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.RECTANGLE,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[c.NONE,c.NONE],h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=a.default.createGuid(),this.position=t,this.size=n,this.color=i,this.type=o,this.shape=r,this.life=u,this.direction=f,this.speed=h,this.boundItems=[],this.attachmentPosition=null}return o(e,[{key:"attachItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.CENTER;e.setAttachmentPosition(t),this.boundItems.push(e),this.setPosition(this.position)}},{key:"detachItem",value:function(e){for(var t=0;t<this.boundItems.length;t+=1)if(e.id===this.boundItems[t].id){this.boundItems.splice(t,1);break}}},{key:"setPosition",value:function(e){for(var t=0;t<this.boundItems.length;t+=1){var n=this.calculateAttachmentPosition(this.boundItems[t]);this.boundItems[t].setPosition(n)}this.position=e}},{key:"getNextPosition",value:function(){var e=function(e){switch(e){case c.UP:case c.LEFT:return function(e,t){return e-t};case c.RIGHT:case c.DOWN:return function(e,t){return e+t};case c.NONE:return function(e){return e};default:throw new TypeError("Unknown moving direction.")}},t=e(this.direction[0]),n=e(this.direction[1]),i=[t(this.position[0],this.speed[0]),n(this.position[1],this.speed[1])],o=r.default.collisionAt(i,this);return null!==o&&(console.log(o.collider),i=this.reactToCollision(o)),i}},{key:"setAttachmentPosition",value:function(e){this.attachmentPosition=e}},{key:"getAttachmentPosition",value:function(){return this.attachmentPosition}},{key:"getItemType",value:function(){return this.type}},{key:"setSpeed",value:function(e){this.speed=e}},{key:"increaseSpeed",value:function(e){this.speed=[this.speed[0]+e,this.speed[1]+e]}},{key:"getSpeed",value:function(){return this.speed}},{key:"setDirection",value:function(e){this.direction=e}},{key:"setLife",value:function(e){this.life=e,this._setColorBasedOnItemLife()}},{key:"decreaseLife",value:function(){this.life>0&&(this.life-=1,this._setColorBasedOnItemLife())}},{key:"_setColorBasedOnItemLife",value:function(){var e=a.default.getColorLuminance(this.color,-1/this.life);this.color=e}},{key:"getDirection",value:function(){return this.direction}},{key:"getPosition",value:function(){return this.position}},{key:"getXPosition",value:function(){return this.position[0]}},{key:"getYPosition",value:function(){return this.position[1]}},{key:"getCenterPosition",value:function(){return[this.position[0]+this.size[0]/2,this.position[1]+this.size[1]/2]}},{key:"getWidth",value:function(){return this.size[0]}},{key:"increaseWidth",value:function(e){this.size[0]+=e}},{key:"getHeight",value:function(){return this.size[1]}},{key:"getColor",value:function(){return this.color}},{key:"calculateAttachmentPosition",value:function(e){var t=this.getCenterPosition();switch(e.attachmentPosition){case u.CENTER:return t;case u.TOP:return[t[0],this.position[1]-e.getHeight()/2-10];case u.RIGHT:case u.BOTTOM:case u.LEFT:return new ReferenceError("This attachment position isn't implemented yet.");default:return new TypeError("Couldn't attach Item: Unknown attachment position.")}}},{key:"flipHorizontalDirection",value:function(){this.direction[0]=this.direction[0]===c.LEFT?c.RIGHT:c.LEFT}},{key:"flipVerticalDirection",value:function(){this.direction[1]=this.direction[1]===c.UP?c.DOWN:c.UP}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"randomIntFromInterval",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"createGuid",value:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"getColorLuminance",value:function(e,t){var n=String(e).replace(/[^0-9a-f]/gi,"");e.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var i=t||0,o="#",r=void 0,a=void 0;for(a=0;a<3;a+=1)r=parseInt(n.substr(2*a,2),16),o+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*i),255)).toString(16))).substr(r.length);return o}},{key:"getRandomObjectFromArray",value:function(e){return e[Math.floor(Math.random()*e.length)]}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=i(r),l=i(n(5)),s=i(n(12)),u=i(n(13)),c=i(n(3)),f=i(n(15)),h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.controllableItems=[],this.movingItems=[]}return o(e,[{key:"loadInitialItems",value:function(){var e=new l.default(20,"yellow"),t=new s.default(100,10,"#000");t.attachItem(e,r.AttachmentPosition.TOP),this.items=[t],c.default.addObservableItem(t),this._loadLevelBoundaries()}},{key:"loadLevel",value:function(e){this._purgeDeadItems();for(var t=f.default.getLevelDifficulty(e),n=f.default.getProceduralLevelBricks(t),i=0;i<n.length;i+=1)this.items.push(n[i]),c.default.addObservableItem(n[i])}},{key:"_loadLevelBoundaries",value:function(){var e=new a.default([0,0],[1e3,5],"blue",r.ItemType.BOUNDARY),t=new a.default([995,0],[5,500],"blue",r.ItemType.BOUNDARY),n=new a.default([0,495],[1e3,5],"blue",r.ItemType.BOUNDARY,r.ItemShape.RECTANGLE,-2),i=new a.default([0,0],[5,1e3],"blue",r.ItemType.BOUNDARY);this.items.push(e,t,n,i),c.default.addObservableItem(e),c.default.addObservableItem(t),c.default.addObservableItem(n),c.default.addObservableItem(i)}},{key:"addItem",value:function(e){this.items.push(e)}},{key:"addMovingItem",value:function(e){this.movingItems.push(e)}},{key:"getMovingItems",value:function(){return this.movingItems}},{key:"getItems",value:function(){return this._purgeDeadItems(),this.items}},{key:"getControllableItems",value:function(){return this.controllableItems.push(new u.default(this.items[0])),this.controllableItems}},{key:"_purgeDeadItems",value:function(){for(var e=0;e<this.items.length;e+=1)0===this.items[e].life&&(c.default.removeObservableItemWithID(this.items[e].id),this.items.splice(e,1));for(var t=0;t<this.movingItems.length;t+=1)0===this.movingItems[t].life&&this.movingItems.splice(t,1);for(var n=0;n<this.controllableItems.length;n+=1)0===this.controllableItems[n].life&&this.controllableItems.splice(n,1)}}]),e}();t.default=new h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observableItems=[]}return i(e,[{key:"addObservableItem",value:function(e){this.observableItems.push(e)}},{key:"removeObservableItemWithID",value:function(e){for(var t=0;t<this.observableItems.length;t+=1)this.observableItems[t].id===e&&this.observableItems.splice(t,1)}},{key:"removeObservableItemAtIndex",value:function(e){this.observableItems.splice(e,1)}},{key:"getObservableItems",value:function(){return this.observableItems}},{key:"collisionAt",value:function(e,t){for(var n={direction:"",collider:"",calculatedCollisionPosition:[]},i=0;i<this.observableItems.length;i+=1){var r=this.observableItems[i];if(e[0]>=r.getXPosition()-t.getWidth()/2&&e[0]<=r.getXPosition()+r.getWidth()+t.getWidth()/2&&e[1]>=r.getYPosition()&&e[1]<=r.getYPosition()+r.getHeight())return n.direction="horizontal",n.collider=r,t.getDirection()[0]===o.MovingDirection.LEFT?n.calculatedCollisionPosition=[r.getXPosition()+r.getWidth()+t.getWidth()/2,e[1]]:t.getDirection()[0]===o.MovingDirection.RIGHT&&(n.calculatedCollisionPosition=[r.getXPosition()-t.getWidth()/2,e[1]]),n;if(e[1]>=r.getYPosition()-t.getWidth()/2&&e[1]<=r.getYPosition()+r.getHeight()+t.getWidth()/2&&e[0]>=r.getXPosition()-t.getWidth()/2&&e[0]<=r.getXPosition()+r.getWidth()+t.getWidth()/2)return n.direction="vertical",n.collider=r,t.getDirection()[1]===o.MovingDirection.UP?n.calculatedCollisionPosition=[e[0],r.getYPosition()+r.getHeight()+t.getHeight()/2]:t.getDirection()[1]===o.MovingDirection.DOWN&&(n.calculatedCollisionPosition=[e[0],r.getYPosition()-t.getHeight()/2]),n}return null}}]),e}();t.default=new r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PowerUpType=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=i(r),l=i(n(1)),s=i(n(2)),u=t.PowerUpType={INCREASE_SIZE:"increaseSize",INCREASE_SPEED:"increaseSpeed"},c=function(e){function t(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=o;null===a&&(a=[l.default.randomIntFromInterval(0,1e3),l.default.randomIntFromInterval(0,500)]);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a,[e,e],n,r.ItemType.POWERUP,r.ItemShape.CIRCLE));return s.powerUp=i,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"getPowerUp",value:function(){return this.powerUp}},{key:"setPowerUp",value:function(e){this.powerUp=e}},{key:"moveFreely",value:function(){var e=this.getNextPosition();this.setPosition(e)}},{key:"releaseFromBrick",value:function(){var e=this.position,n=this.color,i=new t(this.size[0],n,u.INCREASE_SPEED,e);i.setSpeed([0,3]),i.setDirection([r.MovingDirection.NONE,r.MovingDirection.DOWN]),s.default.addItem(i),s.default.addMovingItem(i)}},{key:"reactToCollision",value:function(e){return e.collider.type===r.ItemType.PLATFORM&&(this._applyPowerUp(e.collider),this.setLife(0)),e.collider.type===r.ItemType.BOUNDARY&&this.setLife(0),this.position}},{key:"_applyPowerUp",value:function(e){switch(this.powerUp){case u.INCREASE_SIZE:e.increaseWidth(5);break;case u.INCREASE_SPEED:for(var t=s.default.getMovingItems(),n=0;n<t.length;n+=1)t[n].increaseSpeed(3)}}}]),t}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=i(r),l=i(n(1)),s=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=i;return null===o&&(o=[l.default.randomIntFromInterval(0,1e3),l.default.randomIntFromInterval(0,500)]),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,[e,e],n,r.ItemType.BALL,r.ItemShape.CIRCLE))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"moveFreely",value:function(){var e=this.getNextPosition();this.setPosition(e)}},{key:"reactToCollision",value:function(e){var t=void 0;if(e.collider.type!==r.ItemType.POWERUP)switch(e.direction){case"horizontal":this.flipHorizontalDirection(),t=e.calculatedCollisionPosition;break;case"vertical":if(e.collider.type===r.ItemType.PLATFORM){var n=e.collider.getWidth()/3+e.collider.getXPosition(),i=e.collider.getWidth()/3*2+e.collider.getXPosition();e.calculatedCollisionPosition[0]<=n&&this.getDirection()[0]===r.MovingDirection.RIGHT&&this.flipHorizontalDirection(),e.calculatedCollisionPosition[0]>=i&&this.getDirection()[0]===r.MovingDirection.LEFT&&this.flipHorizontalDirection()}this.flipVerticalDirection(),t=e.calculatedCollisionPosition;break;default:throw new TypeError("Unknown collision direction.")}if(e.collider.type===r.ItemType.BRICK){if(1===e.collider.life)for(var o=0;o<e.collider.boundItems.length;o+=1)if(e.collider.boundItems[o].getItemType()===r.ItemType.POWERUP){e.collider.boundItems[o].releaseFromBrick(),e.collider.detachItem(e.collider.boundItems[o]);break}e.collider.decreaseLife()}return e.collider.type===r.ItemType.BOUNDARY&&e.collider.life<this.life&&this.setLife(0),t}}]),t}();t.default=s},function(e,t,n){"use strict";n(7),n(8);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(9));document.addEventListener("DOMContentLoaded",function(){function e(){t.update(),window.requestAnimFrame(e)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var t=new i.default;e()})},function(e,t){},function(e,t,n){e.exports=n.p+"index.html"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GameState=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(n(10)),a=i(n(11)),l=i(n(2)),s=i(n(17)),u=i(n(18)),c=n(0),f=t.GameState={RUNNING:"running",PAUSE:"pause",STOPPED:"stopped"},h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=f.RUNNING,this.player=new r.default(2),this.currentLevel=1,this.render=new a.default,l.default.loadInitialItems(),l.default.loadLevel(this.currentLevel),this.items=l.default.getItems(),this.movingItems=l.default.getMovingItems(),this.mouseController=new s.default(this,this.render.canvas,l.default.getControllableItems()),this.keyboardController=new u.default(this)}return o(e,[{key:"update",value:function(){this.items=l.default.getItems(),this.state===f.RUNNING&&(this._checkUserLife(),this._checkRemainingBricks(),this._moveItems()),this.render.clearScreen(),this.render.renderItems(this.items)}},{key:"_moveItems",value:function(){this.movingItems=l.default.getMovingItems();for(var e=0;e<this.movingItems.length;e+=1)this.movingItems[e].moveFreely()}},{key:"_checkUserLife",value:function(){for(var e=!0,t=0;t<this.items.length;t+=1){if(this.items[t].getItemType()===c.ItemType.BALL){e=!1;break}for(var n=0;n<this.items[t].boundItems.length;n+=1)if(this.items[t].boundItems[n].getItemType()===c.ItemType.BALL){e=!1;break}}if(e){if(this.player.getLife()<=0)this.gameOver();else for(var i=0;i<this.items.length;i+=1)if(this.items[i].getItemType()===c.ItemType.PLATFORM){this.items[i].bindBall();break}this.player.decreaseLife()}}},{key:"_checkRemainingBricks",value:function(){for(var e=!1,t=0;t<this.items.length;t+=1)this.items[t].getItemType()===c.ItemType.BRICK&&(e=!0);e||this.levelCleared()}},{key:"togglePause",value:function(){this.state=this.state===f.RUNNING?f.PAUSE:f.RUNNING}},{key:"levelCleared",value:function(){for(var e=0;e<this.items.length;e+=1)this.items[e].getItemType()!==c.ItemType.BOUNDARY&&this.items[e].getItemType()!==c.ItemType.PLATFORM&&this.items[e].setLife(0);l.default.loadLevel(this.currentLevel),this.player.increaseLife(),this.currentLevel+=1,console.log("Next level!")}},{key:"gameOver",value:function(){this.togglePause(),console.log("GameOver")}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.life=t}return i(e,[{key:"decreaseLife",value:function(){this.life-=1}},{key:"increaseLife",value:function(){this.life+=1}},{key:"getLife",value:function(){return this.life}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=1e3,this.canvas.height=500,document.getElementsByClassName("app")[0].appendChild(this.canvas)}return i(e,[{key:"clearScreen",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"renderItems",value:function(e){for(var t=0;t<e.length;t+=1){this._drawShape(e[t]);for(var n=0;n<e[t].boundItems.length;n+=1)this._drawShape(e[t].boundItems[n])}}},{key:"_drawShape",value:function(e){switch(e instanceof r.default?(this.context.globalCompositeOperation="destination-over",this.context.shadowColor="#999",this.context.shadowBlur=2,this.context.shadowOffsetY=2,this.context.shadowOffsetX=0):(this.context.globalCompositeOperation="source-over",this.context.shadowColor="#999",this.context.shadowBlur=2,this.context.shadowOffsetY=2,this.context.shadowOffsetX=0),e.shape){case o.ItemShape.RECTANGLE:this._drawRectangle(e.getXPosition(),e.getYPosition(),e.getWidth(),e.getHeight(),e.getColor());break;case o.ItemShape.CIRCLE:this._drawCircle(e.getXPosition(),e.getYPosition(),e.getWidth()/2,e.getColor());break;default:throw new TypeError("Couldn't render Item: Unknown item shape: "+e.shape)}}},{key:"_drawRectangle",value:function(e,t,n,i,o){this.context.beginPath(),this.context.rect(e,t,n,i),this.context.fillStyle=o,this.context.fill()}},{key:"_drawCircle",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.context.beginPath(),this.context.arc(e,t,n,0,2*Math.PI),this.context.fillStyle=i,this.context.fill(),null!==o&&(this.context.strokeStyle="black",this.context.lineWidth=1,this.context.stroke())}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),a=i(r),l=i(n(5)),s=i(n(2)),u=i(n(1)),c=function(e){function t(e,n,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[500-e/2,500-n-10],[e,n],i,r.ItemType.PLATFORM))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"bindBall",value:function(){var e=new l.default(20,"yellow");this.attachItem(e,r.AttachmentPosition.TOP)}},{key:"unbindBall",value:function(){for(var e=0;e<this.boundItems.length;e+=1)if(this.boundItems[e]instanceof l.default){var t=this.boundItems[e].getPosition(),n=this.boundItems[e].getColor(),i=this.boundItems[e].getWidth();this.detachItem(this.boundItems[e]);var o=new l.default(i,n,t),a=[r.MovingDirection.LEFT,r.MovingDirection.RIGHT],c=a[Math.floor(Math.random()*a.length)],f=function(){return u.default.randomIntFromInterval(4,8)};o.setSpeed([f(),f()]),o.setDirection([c,r.MovingDirection.UP]),s.default.addItem(o),s.default.addMovingItem(o)}}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.platform=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"move",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"move",this).call(this,[e[0],null])}},{key:"handleClick",value:function(){this.platform.unbindBall()}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t}return i(e,[{key:"move",value:function(e){var t=this.item.position[0],n=this.item.position[1];null!==e[0]&&(t=e[0]-this.item.getWidth()/2),null!==e[1]&&(n=e[1]-this.item.getHeight()/2),this.item.setPosition([t,n])}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LevelDifficulty=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),a=i(r),l=i(n(1)),s=i(n(16)),u=t.LevelDifficulty={BEGINNER:"beginnerDifficulty",EASY:"easyDifficulty",NORMAL:"normalDifficulty",HARD:"hardDifficulty",EXTREME:"extremeDifficulty"},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"getProceduralLevelBricks",value:function(e){var t=["#ff5050","#1236f1"],n=[{power:r.PowerUpType.INCREASE_SIZE,color:"#4286f4"},{power:r.PowerUpType.INCREASE_SPEED,color:"#4286f4"}],i=10,o=["1"];switch(e){case u.BEGINNER:i=20,o=[1,1];break;case u.EASY:i=25,o=[1,2];break;case u.NORMAL:i=30,o=[1,3];break;case u.HARD:i=40,o=[2,4];break;case u.EXTREME:i=55,o=[3,5];break;default:throw new TypeError("Unknown level difficulty.")}for(var c=10,f=10,h=(1e3/12).toFixed()-3-12/c,d=[new s.default([c,f],[h,40],l.default.getRandomObjectFromArray(t),1)],v=!1;d.length<i;){c=10,f=10;for(var p=0;p<72;p+=1){if(2===l.default.randomIntFromInterval(1,10)){var m=new s.default([c,f],[h,40],l.default.getRandomObjectFromArray(t),l.default.randomIntFromInterval(o[0],o[1]));if(2===l.default.randomIntFromInterval(1,3)){var y=l.default.getRandomObjectFromArray(n),b=new a.default(10,y.color,y.power);m.attachItem(b)}for(var g=0;g<d.length;g+=1){var I=d[g].getPosition(),w=m.getPosition();if(I[0]===w[0]&&I[1]===w[1]){v=!0;break}v=!1}!v&&d.length<i&&d.push(m)}c+h>1e3-h?(c=10,f=f+40+3):c=c+h+3}}return d}},{key:"generateLevelFromJSON",value:function(){}},{key:"getLevelDifficulty",value:function(e){switch(!0){case e<=2:return u.BEGINNER;case e>2&&e<=4:return u.EASY;case e>4&&e<=6:return u.NORMAL;case e>6&&e<=10:return u.HARD;case e>10:return u.EXTREME;default:return u.NORMAL}}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),r=function(e){function t(e,n,o,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,i.ItemType.BRICK,i.ItemShape.RECTANGLE,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=t,this.items=i,n.addEventListener("mousemove",this.mouseMoved.bind(this)),n.addEventListener("click",this.mouseClicked.bind(this))}return i(e,[{key:"mouseMoved",value:function(e){for(var t=[e.layerX,e.layerY],n=0;n<this.items.length;n+=1)this.items[n].move(t)}},{key:"mouseClicked",value:function(){for(var e=0;e<this.items.length;e+=1)this.items[e].handleClick()}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=t,window.addEventListener("keydown",this.keydown.bind(this))}return i(e,[{key:"keydown",value:function(e){switch(e.keyCode){case 27:case 32:case 80:this.game.togglePause()}}}]),e}();t.default=o}]);