!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentPosition=t.ItemType=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),r=t.ItemType={RECTANGLE:"rectangle",CIRCLE:"circle"},u=t.AttachmentPosition={TOP:"attachTop",RIGHT:"attachRight",BOTTOM:"attachBottom",LEFT:"attachLeft",CENTER:"attachCenter"},a=function(){function e(t,n,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.RECTANGLE,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=i.default.createGuid(),this.position=t,this.size=n,this.color=o,this.type=u,this.life=a,this.boundItems=[],this.attachmentPosition=null}return o(e,[{key:"attachItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.CENTER;e.setAttachmentPosition(t),this.boundItems.push(e),this.setPosition(this.position)}},{key:"detachItem",value:function(e){for(var t=0;t<this.boundItems.length;t+=1)if(e.id===this.boundItems[t].id){this.boundItems.splice(t,1);break}}},{key:"setPosition",value:function(e){for(var t=0;t<this.boundItems.length;t+=1){var n=this.calculateAttachmentPosition(this.boundItems[t]);this.boundItems[t].setPosition(n)}this.position=e}},{key:"setAttachmentPosition",value:function(e){this.attachmentPosition=e}},{key:"getPosition",value:function(){return this.position}},{key:"getXPosition",value:function(){return this.position[0]}},{key:"getYPosition",value:function(){return this.position[1]}},{key:"getCenterPosition",value:function(){return[this.position[0]+this.size[0]/2,this.position[1]+this.size[1]/2]}},{key:"getWidth",value:function(){return this.size[0]}},{key:"getHeight",value:function(){return this.size[1]}},{key:"getColor",value:function(){return this.color}},{key:"calculateAttachmentPosition",value:function(e){var t=this.getCenterPosition();switch(e.attachmentPosition){case u.CENTER:return t;case u.TOP:return[t[0],this.position[1]-e.getHeight()/2];case u.RIGHT:case u.BOTTOM:case u.LEFT:return new ReferenceError("This attachment position isn't implemented yet.");default:return new TypeError("Couldn't attach Item: Unknown attachment position.")}}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"randomIntFromInterval",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"createGuid",value:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}]),e}();t.default=i},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),u=o(r),a=o(n(3)),s=o(n(9)),l=o(n(10)),c=o(n(12)),f=o(n(1)),h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.controllableItems=[],this.movingItems=[]}return i(e,[{key:"loadInitialItems",value:function(){var e=new a.default(20,"yellow"),t=new s.default(100,10,"#000");t.attachItem(e,r.AttachmentPosition.TOP),this.items=[t]}},{key:"loadLevel",value:function(){for(var e=10,t=10,n=(1e3/12).toFixed()-3-12/e,o=0;o<20;o+=1){var i=new c.default([e,t],[n,40],"red",f.default.randomIntFromInterval(1,5));this.items.push(i),e+n>1e3-n?(e=10,t=t+40+3):e=e+n+3}this._loadLevelBoundaries()}},{key:"_loadLevelBoundaries",value:function(){var e=new u.default([0,0],[1e3,5],"blue"),t=new u.default([995,0],[5,500],"blue"),n=new u.default([0,495],[1e3,5],"blue"),o=new u.default([0,0],[5,1e3],"blue");this.items.push(e,t,n,o)}},{key:"addItem",value:function(e){this.items.push(e)}},{key:"addMovingItem",value:function(e){this.movingItems.push(e)}},{key:"getMovingItems",value:function(){return this.movingItems}},{key:"getItems",value:function(){return this.items}},{key:"getControllableItems",value:function(){return this.controllableItems.push(new l.default(this.items[0])),this.controllableItems}}]),e}();t.default=new h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),u=o(r),a=o(n(1)),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[a.default.randomIntFromInterval(0,1e3),a.default.randomIntFromInterval(0,500)],[e,e],n,r.ItemType.CIRCLE))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"moveFreely",value:function(){var e=this.getXPosition()+3,t=this.getYPosition()-1;this.setPosition([e,t])}}]),t}();t.default=s},function(e,t,n){"use strict";n(5),n(6);var o=function(e){return e&&e.__esModule?e:{default:e}}(n(7));document.addEventListener("DOMContentLoaded",function(){function e(){t.update(),window.requestAnimFrame(e)}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var t=new o.default;e()})},function(e,t){},function(e,t,n){e.exports=n.p+"index.html"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=o(n(8)),u=o(n(2)),a=o(n(13)),s={RUNNING:"running"},l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=s.RUNNING,this.render=new r.default,u.default.loadInitialItems(),u.default.loadLevel(),this.movingItems=u.default.getMovingItems(),this.mouseController=new a.default(this,this.render.canvas,u.default.getControllableItems())}return i(e,[{key:"update",value:function(){this._moveItems(),this.render.clearScreen(),this.render.renderItems(u.default.getItems())}},{key:"_moveItems",value:function(){this.movingItems=u.default.getMovingItems();for(var e=0;e<this.movingItems.length;e+=1)this.movingItems[e].moveFreely()}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=1e3,this.canvas.height=500,document.getElementsByClassName("app")[0].appendChild(this.canvas)}return o(e,[{key:"clearScreen",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"renderItems",value:function(e){for(var t=0;t<e.length;t+=1){this._drawShape(e[t]);for(var n=0;n<e[t].boundItems.length;n+=1)this._drawShape(e[t].boundItems[n])}}},{key:"_drawShape",value:function(e){switch(e.type){case i.ItemType.RECTANGLE:this._drawRectangle(e.getXPosition(),e.getYPosition(),e.getWidth(),e.getHeight(),e.getColor());break;case i.ItemType.CIRCLE:this._drawCircle(e.getXPosition(),e.getYPosition(),e.getWidth()/2,e.getColor());break;default:throw new TypeError("Couldn't render Item: Unknown item type.")}}},{key:"_drawRectangle",value:function(e,t,n,o,i){this.context.beginPath(),this.context.rect(e,t,n,o),this.context.fillStyle=i,this.context.fill()}},{key:"_drawCircle",value:function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.context.beginPath(),this.context.arc(e,t,n,0,2*Math.PI),this.context.fillStyle=o,this.context.fill(),null!==i&&(this.context.strokeStyle="black",this.context.lineWidth=1,this.context.stroke())}}]),e}();t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),u=o(r),a=o(n(3)),s=o(n(2)),l=function(e){function t(e,n,o){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[500-e/2,500-n-10],[e,n],o,r.ItemType.RECTANGLE))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"unbindBall",value:function(){for(var e=0;e<this.boundItems.length;e+=1)if(this.boundItems[e]instanceof a.default){var t=this.boundItems[e].getPosition();this.detachItem(this.boundItems[e]);var n=new a.default(20,"yellow");n.setPosition(t),s.default.addItem(n),s.default.addMovingItem(n)}}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(11)),r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.platform=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"move",value:function(e){(function e(t,n,o){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in i)return i.value;var u=i.get;if(void 0!==u)return u.call(o)})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"move",this).call(this,[e[0],null])}},{key:"handleClick",value:function(){this.platform.unbindBall()}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t}return o(e,[{key:"move",value:function(e){var t=this.item.position[0],n=this.item.position[1];null!==e[0]&&(t=e[0]-this.item.getWidth()/2),null!==e[1]&&(n=e[1]-this.item.getHeight()/2),this.item.setPosition([t,n])}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(e){function t(e,n,i,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,o.ItemType.RECTANGLE,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.game=t,this.items=o,n.addEventListener("mousemove",this.mouseMoved.bind(this)),n.addEventListener("click",this.mouseClicked.bind(this))}return o(e,[{key:"mouseMoved",value:function(e){for(var t=[e.layerX,e.layerY],n=0;n<this.items.length;n+=1)this.items[n].move(t)}},{key:"mouseClicked",value:function(){for(var e=0;e<this.items.length;e+=1)this.items[e].handleClick()}}]),e}();t.default=i}]);